const biologyBank = [
  {
    id: 1,
    question: "What is the basic unit of life?",
    options: ["Atom", "Molecule", "Cell", "Organ"],
    answer: "Cell",
  },
  {
    id: 2,
    question: "Which of the following is responsible for the transport of oxygen in the blood?",
    options: ["White blood cells", "Platelets", "Red blood cells", "Plasma"],
    answer: "Red blood cells",
  },
  {
    id: 3,
    question: "What is the powerhouse of the cell?",
    options: ["Nucleus", "Mitochondria", "Ribosomes", "Endoplasmic Reticulum"],
    answer: "Mitochondria",
  },
  {
    id: 4,
    question: "Which organ is responsible for pumping blood throughout the body?",
    options: ["Lungs", "Heart", "Kidneys", "Stomach"],
    answer: "Heart",
  },
  {
    id: 5,
    question: "Which of the following is not a type of muscle tissue?",
    options: ["Skeletal", "Cardiac", "Smooth", "Epithelial"],
    answer: "Epithelial",
  },
  {
    id: 6,
    question: "In which part of the cell does photosynthesis take place?",
    options: ["Nucleus", "Cytoplasm", "Mitochondria", "Chloroplast"],
    answer: "Chloroplast",
  },
  {
    id: 7,
    question: "What is the process by which plants make their own food?",
    options: ["Respiration", "Transpiration", "Photosynthesis", "Digestion"],
    answer: "Photosynthesis",
  },
  {
    id: 8,
    question: "Which of the following structures is found only in plant cells?",
    options: ["Cell membrane", "Nucleus", "Chloroplast", "Cytoplasm"],
    answer: "Chloroplast",
  },
  {
    id: 9,
    question: "Which blood type is considered the universal donor?",
    options: ["A", "B", "AB", "O"],
    answer: "O",
  },
  {
    id: 10,
    question: "What is the primary function of white blood cells?",
    options: ["Carrying oxygen", "Fighting infections", "Clotting blood", "Carrying nutrients"],
    answer: "Fighting infections",
  },
  {
    id: 11,
    question: "Which part of the brain controls balance and coordination?",
    options: ["Cerebrum", "Cerebellum", "Medulla", "Thalamus"],
    answer: "Cerebellum",
  },
  {
    id: 12,
    question: "Which of the following is a function of the kidneys?",
    options: ["Filtering blood", "Producing insulin", "Pumping blood", "Digesting food"],
    answer: "Filtering blood",
  },
  {
    id: 13,
    question: "The human skeleton has how many bones in total?",
    options: ["206", "205", "210", "208"],
    answer: "206",
  },
  {
    id: 14,
    question: "Which type of bond holds together the two strands of a DNA molecule?",
    options: ["Ionic bond", "Covalent bond", "Hydrogen bond", "Metallic bond"],
    answer: "Hydrogen bond",
  },
  {
    id: 15,
    question: "Which organ is responsible for the digestion of food?",
    options: ["Heart", "Stomach", "Lungs", "Brain"],
    answer: "Stomach",
  },
  {
    id: 16,
    question: "Which of the following is a type of asexual reproduction?",
    options: ["Binary fission", "Pollination", "Fertilization", "Cross-fertilization"],
    answer: "Binary fission",
  },
  {
    id: 17,
    question: "Which of the following is the largest organ in the human body?",
    options: ["Heart", "Liver", "Skin", "Lungs"],
    answer: "Skin",
  },
  {
    id: 18,
    question: "Which part of the human digestive system is responsible for absorbing nutrients?",
    options: ["Stomach", "Large intestine", "Small intestine", "Esophagus"],
    answer: "Small intestine",
  },
  {
    id: 19,
    question: "Which process involves the movement of water from the roots of a plant to the leaves?",
    options: ["Photosynthesis", "Respiration", "Transpiration", "Osmosis"],
    answer: "Transpiration",
  },
  {
    id: 20,
    question: "What is the main function of red blood cells?",
    options: ["Carrying oxygen", "Fighting infections", "Transporting nutrients", "Regulating temperature"],
    answer: "Carrying oxygen",
  },
  {
    id: 21,
    question: "The process by which organisms produce offspring is called?",
    options: ["Respiration", "Excretion", "Reproduction", "Metabolism"],
    answer: "Reproduction",
  },
  {
    id: 22,
    question: "Which of the following is the correct sequence of stages in the human menstrual cycle?",
    options: ["Ovulation, Menstruation, Follicular phase", "Menstruation, Follicular phase, Ovulation", "Follicular phase, Ovulation, Menstruation", "Ovulation, Follicular phase, Menstruation"],
    answer: "Menstruation, Follicular phase, Ovulation",
  },
  {
    id: 23,
    question: "Which of the following is an example of a protein?",
    options: ["Glucose", "Hemoglobin", "Chlorophyll", "Fat"],
    answer: "Hemoglobin",
  },
  {
    id: 24,
    question: "What is the term used to describe the variety of life on Earth?",
    options: ["Biodiversity", "Ecology", "Evolution", "Adaptation"],
    answer: "Biodiversity",
  },
  {
    id: 25,
    question: "Which organ produces insulin in the human body?",
    options: ["Liver", "Heart", "Pancreas", "Kidney"],
    answer: "Pancreas",
  },
  {
    id: 26,
    question: "Which structure in the plant cell is responsible for storing energy?",
    options: ["Mitochondria", "Chloroplast", "Vacuole", "Nucleus"],
    answer: "Vacuole",
  },
  {
    id: 27,
    question: "Which process is responsible for the formation of gametes?",
    options: ["Mitosis", "Meiosis", "Fertilization", "Binary fission"],
    answer: "Meiosis",
  },
  {
    id: 28,
    question: "Which organ system is responsible for the transport of nutrients and gases in the body?",
    options: ["Nervous system", "Respiratory system", "Circulatory system", "Digestive system"],
    answer: "Circulatory system",
  },
  {
    id: 29,
    question: "What is the main function of the large intestine?",
    options: ["Absorption of nutrients", "Absorption of water", "Production of bile", "Storage of food"],
    answer: "Absorption of water",
  },
  {
    id: 30,
    question: "Which of the following is a non-infectious disease?",
    options: ["Flu", "Tuberculosis", "Diabetes", "Malaria"],
    answer: "Diabetes",
  },
  {
    id: 31,
    question: "What is the role of the ribosomes in the cell?",
    options: ["Protein synthesis", "Energy production", "Cell division", "Waste elimination"],
    answer: "Protein synthesis",
  },
  {
    id: 32,
    question: "Which of the following is a characteristic of asexual reproduction?",
    options: ["Involves two parents", "Produces genetically identical offspring", "Requires fertilization", "Involves the fusion of gametes"],
    answer: "Produces genetically identical offspring",
  },
  {
    id: 33,
    question: "Which part of the body is responsible for breathing?",
    options: ["Heart", "Lungs", "Kidneys", "Stomach"],
    answer: "Lungs",
  },
  {
    id: 34,
    question: "What is the genetic material in a cell?",
    options: ["Protein", "RNA", "DNA", "Enzymes"],
    answer: "DNA",
  },
  {
    id: 35,
    question: "Which is the smallest unit of living matter?",
    options: ["Organ", "Cell", "Tissue", "Organism"],
    answer: "Cell",
  },
  {
    id: 36,
    question: "Which of the following is an example of an amphibian?",
    options: ["Frog", "Lizard", "Bird", "Fish"],
    answer: "Frog",
  },
  {
    id: 37,
    question: "Which type of joint allows for movement in multiple directions?",
    options: ["Hinge joint", "Ball and socket joint", "Pivot joint", "Fixed joint"],
    answer: "Ball and socket joint",
  },
  {
    id: 38,
    question: "What type of blood vessels carry blood away from the heart?",
    options: ["Arteries", "Veins", "Capillaries", "Venules"],
    answer: "Arteries",
  },
  {
    id: 39,
    question: "What is the process by which plants lose water through their leaves?",
    options: ["Evaporation", "Transpiration", "Condensation", "Photosynthesis"],
    answer: "Transpiration",
  },
  {
    id: 40,
    question: "What is the main source of energy for living organisms?",
    options: ["Sunlight", "Water", "Oxygen", "Carbon dioxide"],
    answer: "Sunlight",
  },
  {
    "id": 41,
    "question": "Which part of the cell is responsible for controlling its activities?",
    "options": ["Mitochondria", "Nucleus", "Ribosome", "Cell membrane"],
    "answer": "Nucleus"
  },
  {
    "id":42,
    "question": "Which type of reproduction involves only one parent?",
    "options": ["Asexual reproduction", "Sexual reproduction", "Internal fertilization", "External fertilization"],
    "answer": "Asexual reproduction"
  },
  {
    "id": 43,
    "question": "Which organ in the human body produces insulin?",
    "options": ["Liver", "Pancreas", "Kidney", "Stomach"],
    "answer": "Pancreas"
  },
  {
    "id": 44,
    "question": "Which process is responsible for the movement of water from the roots to the leaves of plants?",
    "options": ["Osmosis", "Diffusion", "Transpiration", "Respiration"],
    "answer": "Transpiration"
  },
  {
    "id": 45,
    "question": "Which of the following blood vessels carries oxygenated blood away from the heart?",
    "options": ["Veins", "Arteries", "Capillaries", "Lymphatic vessels"],
    "answer": "Arteries"
  },
  {
    "id": 46,
    "question": "What is the major excretory organ in humans?",
    "options": ["Lungs", "Skin", "Kidney", "Liver"],
    "answer": "Kidney"
  },
  {
    "id": 47,
    "question": "Which component of blood is responsible for clotting?",
    "options": ["Red blood cells", "White blood cells", "Platelets", "Plasma"],
    "answer": "Platelets"
  },
  {
    "id": 48,
    "question": "What is the name of the pigment responsible for photosynthesis in plants?",
    "options": ["Chlorophyll", "Carotene", "Haemoglobin", "Melanin"],
    "answer": "Chlorophyll"
  },
  {
    "id": 49,
    "question": "Which part of the human brain controls balance and coordination?",
    "options": ["Cerebrum", "Cerebellum", "Medulla oblongata", "Hypothalamus"],
    "answer": "Cerebellum"
  },
  {
    "id": 50,
    "question": "What is the term for the movement of molecules from a region of higher concentration to a region of lower concentration?",
    "options": ["Osmosis", "Active transport", "Diffusion", "Respiration"],
    "answer": "Diffusion"
  }
];



const quizContainer = document.getElementById("quizQuestions");
const resultsContainer = document.getElementById("results");
const answersPreviewContainer = document.getElementById("answersPreview");
const correctAnswersList = document.getElementById("correctAnswersList");
const scoreDisplay = document.getElementById("score");
const totalQuestionsDisplay = document.getElementById("totalQuestions");
const nextBtn = document.getElementById("nextPage");
const prevBtn = document.getElementById("prevPage");
const submitQuiz = document.getElementById('submitQuiz')
let currentPage = 1;
const questionsPerPage = 10;



function shuffleArray(array) {
  for (let i = array.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [array[i], array[j]] = [array[j], array[i]]; 
  }
}

// Function to load paginated questions
function loadQuestions(page) {
  quizContainer.innerHTML = "";
  shuffleArray(biologyBank);

  let startIndex = (page - 1) * questionsPerPage;
  let endIndex = startIndex + questionsPerPage;
  let paginatedQuestions = biologyBank.slice(startIndex, endIndex);

  paginatedQuestions.forEach((q, index) => {
      const questionDiv = document.createElement("div");
      questionDiv.classList.add("question");

      const questionText = document.createElement("h3");
      questionText.textContent = `${startIndex + index + 1}. ${q.question}`;
      questionDiv.appendChild(questionText);

      q.options.forEach((option, optIndex) => {
          const optionContainer = document.createElement("div");
          optionContainer.classList.add("option");

          const label = document.createElement("label");
          label.textContent = `${String.fromCharCode(65 + optIndex)} `; // A, B, C, D
          label.style.fontWeight = "bold";

          const radioInput = document.createElement("input");
          radioInput.type = "radio";
          radioInput.name = `question${startIndex + index}`;
          radioInput.value = option;
          radioInput.id = `q${startIndex + index}opt${optIndex}`;

          const optionText = document.createElement("span");
          optionText.textContent = ` ${option}`;

          optionContainer.appendChild(label);
          optionContainer.appendChild(radioInput);
          optionContainer.appendChild(optionText);
          questionDiv.appendChild(optionContainer);
      });

      quizContainer.appendChild(questionDiv);
  });
  prevBtn.style.display = page === 1 ? "none" : "inline-block";
  nextBtn.style.display = endIndex >= biologyBank.length ? "none" : "inline-block";
}
function handleSubmit() {
  let score = 0;
  biologyBank.forEach((q, index) => {
      const selectedOption = document.querySelector(`input[name="question${index}"]:checked`);
      if (selectedOption && selectedOption.value === q.answer) {
          score++;
      }
  });

  scoreDisplay.textContent = score;
  totalQuestionsDisplay.textContent = biologyBank.length;
  resultsContainer.style.display = "block";
  quizContainer.style.display = "none";
  nextBtn.style.display = 'none'
  prevBtn.style.display = 'none'
  submitQuiz.style.display = 'none'
  answersPreviewContainer.style.display = "none";
}

nextBtn.addEventListener("click", () => {
  currentPage++;
  loadQuestions(currentPage);
});

prevBtn.addEventListener("click", () => {
  currentPage--;
  loadQuestions(currentPage);
});


function handleViewAnswers() {
  correctAnswersList.innerHTML = "";
  biologyBank.forEach((q, index) => {
      const li = document.createElement("li");
      li.textContent = `${index + 1}. ${q.question} - Correct Answer: ${q.answer}`;
      correctAnswersList.appendChild(li);
  });
  answersPreviewContainer.style.display = "block";
  resultsContainer.style.display = "none";
}

// Event listeners
document.getElementById("submitQuiz").addEventListener("click", handleSubmit);
document.getElementById("viewAnswers").addEventListener("click", handleViewAnswers);


function backToQuiz(){
  location.reload();
}
document.getElementById('onload').addEventListener('click' ,backToQuiz )
loadQuestions(currentPage);