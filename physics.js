const physicsBank = [
  {
    id: 1,
    question: "What is the SI unit of force?",
    options: ["Newton", "Joule", "Watt", "Pascal"],
    answer: "Newton",
  },
  {
    id: 2,
    question: "Which scientist proposed the theory of relativity?",
    options: ["Isaac Newton", "Albert Einstein", "Galileo Galilei", "Stephen Hawking"],
    answer: "Albert Einstein",
  },
  {
    id: 3,
    question: "What is the unit of electrical resistance?",
    options: ["Ohm", "Volt", "Ampere", "Coulomb"],
    answer: "Ohm",
  },
  {
    id: 4,
    question: "Which of the following is a scalar quantity?",
    options: ["Velocity", "Acceleration", "Speed", "Force"],
    answer: "Speed",
  },
  {
    id: 5,
    question: "The speed of light in a vacuum is approximately?",
    options: ["3 x 10^8 m/s", "5 x 10^8 m/s", "6 x 10^8 m/s", "2 x 10^8 m/s"],
    answer: "3 x 10^8 m/s",
  },
  {
    id: 6,
    question: "The law of reflection states that the angle of incidence is equal to?",
    options: ["Angle of refraction", "Angle of reflection", "Angle of refraction", "Angle of deviation"],
    answer: "Angle of reflection",
  },
  {
    id: 7,
    question: "Which of the following is an example of a non-contact force?",
    options: ["Friction", "Gravitational force", "Tension", "Muscular force"],
    answer: "Gravitational force",
  },
  {
    id: 8,
    question: "What is the formula for kinetic energy?",
    options: ["1/2mv^2", "mv^2", "mgh", "1/2gh^2"],
    answer: "1/2mv^2",
  },
  {
    id: 9,
    question: "What is the term for the energy stored in an object due to its position?",
    options: ["Kinetic energy", "Potential energy", "Thermal energy", "Chemical energy"],
    answer: "Potential energy",
  },
  {
    id: 10,
    question: "Which of the following is a unit of power?",
    options: ["Watt", "Joule", "Newton", "Coulomb"],
    answer: "Watt",
  },
  {
    id: 11,
    question: "Who is credited with the discovery of the electron?",
    options: ["Isaac Newton", "J.J. Thomson", "Albert Einstein", "Marie Curie"],
    answer: "J.J. Thomson",
  },
  {
    id: 12,
    question: "The number of protons in an atom determines its?",
    options: ["Mass number", "Atomic number", "Charge", "Density"],
    answer: "Atomic number",
  },
  {
    id: 13,
    question: "The force that opposes motion between two surfaces in contact is called?",
    options: ["Friction", "Tension", "Gravity", "Magnetism"],
    answer: "Friction",
  },
  {
    id: 14,
    question: "Which of the following is a renewable source of energy?",
    options: ["Coal", "Wind", "Oil", "Natural gas"],
    answer: "Wind",
  },
  {
    id: 15,
    question: "What is the SI unit of temperature?",
    options: ["Kelvin", "Celsius", "Fahrenheit", "Joule"],
    answer: "Kelvin",
  },
  {
    id: 16,
    question: "What does the conservation of energy principle state?",
    options: ["Energy can be created", "Energy can be destroyed", "Energy is constant", "Energy is transferred to heat"],
    answer: "Energy is constant",
  },
  {
    id: 17,
    question: "In a simple electric circuit, what does a battery do?",
    options: ["Provides resistance", "Provides voltage", "Provides current", "Provides power"],
    answer: "Provides voltage",
  },
  {
    id: 18,
    question: "The unit of electric current is?",
    options: ["Volt", "Watt", "Ampere", "Ohm"],
    answer: "Ampere",
  },
  {
    id: 19,
    question: "What is the formula for the force of gravity between two masses?",
    options: ["F = G(m1m2)/r^2", "F = ma", "F = mg", "F = mv^2"],
    answer: "F = G(m1m2)/r^2",
  },
  {
    id: 20,
    question: "What is the measure of how much an object resists changes in motion?",
    options: ["Inertia", "Mass", "Weight", "Force"],
    answer: "Inertia",
  },
  {
    id: 21,
    question: "Which of the following is a property of sound waves?",
    options: ["They travel faster in a vacuum", "They require a medium to travel", "They can travel through space", "They are electromagnetic waves"],
    answer: "They require a medium to travel",
  },
  {
    id: 22,
    question: "The rate at which work is done is called?",
    options: ["Power", "Energy", "Work", "Force"],
    answer: "Power",
  },
  {
    id: 23,
    question: "Which of the following particles has no charge?",
    options: ["Electron", "Proton", "Neutron", "Alpha particle"],
    answer: "Neutron",
  },
  {
    id: 24,
    question: "The energy stored in an object due to its motion is called?",
    options: ["Potential energy", "Kinetic energy", "Thermal energy", "Electrical energy"],
    answer: "Kinetic energy",
  },
  {
    id: 25,
    question: "What is the effect of an increase in the temperature of a gas?",
    options: ["Increased volume", "Decreased volume", "No change in volume", "Increased pressure only"],
    answer: "Increased volume",
  },
  {
    id: 26,
    question: "Which of the following types of energy is found in a stretched spring?",
    options: ["Chemical energy", "Elastic potential energy", "Kinetic energy", "Gravitational potential energy"],
    answer: "Elastic potential energy",
  },
  {
    id: 27,
    question: "Which of the following is true about electric field lines?",
    options: ["They point towards positive charges", "They point towards negative charges", "They form circles", "They are always straight"],
    answer: "They point towards negative charges",
  },
  {
    id: 28,
    question: "In a transverse wave, the particles of the medium move?",
    options: ["In the same direction as the wave", "In a circular motion", "Perpendicular to the direction of the wave", "Along the wave path"],
    answer: "Perpendicular to the direction of the wave",
  },
  {
    id: 29,
    question: "Which of the following is the unit of energy?",
    options: ["Joule", "Ampere", "Volt", "Watt"],
    answer: "Joule",
  },
  {
    id: 30,
    question: "The principle of moments states that for an object to be in equilibrium?",
    options: ["The sum of the clockwise moments equals the sum of the anticlockwise moments", "The forces must balance", "The object must not move", "The object must have no force applied"],
    answer: "The sum of the clockwise moments equals the sum of the anticlockwise moments",
  },
  {
    id: 31,
    question: "Which of the following is a form of electromagnetic radiation?",
    options: ["Radio waves", "Sound waves", "Water waves", "Earthquake waves"],
    answer: "Radio waves",
  },
  {
    id: 32,
    question: "Which quantity is measured in amperes?",
    options: ["Voltage", "Resistance", "Current", "Power"],
    answer: "Current",
  },
  {
    id: 33,
    question: "The force between two charged particles depends on?",
    options: ["Mass", "Charge and distance", "Velocity", "Density"],
    answer: "Charge and distance",
  },
  {
    id: 34,
    question: "What is the main cause of the tides on Earth?",
    options: ["Wind", "Earth's rotation", "Moon's gravitational pull", "Sun's radiation"],
    answer: "Moon's gravitational pull",
  },
  {
    id: 35,
    question: "Which of the following is not a type of radiation?",
    options: ["Alpha radiation", "Gamma radiation", "Electric radiation", "Beta radiation"],
    answer: "Electric radiation",
  },
  {
    id: 36,
    question: "Which device is used to measure electric current?",
    options: ["Voltmeter", "Ammeter", "Thermometer", "Barometer"],
    answer: "Ammeter",
  },
  {
    id: 37,
    question: "The bending of light as it passes from one medium to another is called?",
    options: ["Refraction", "Reflection", "Diffraction", "Dispersion"],
    answer: "Refraction",
  },
  {
    id: 38,
    question: "Which of the following is not an example of a renewable resource?",
    options: ["Solar energy", "Wind energy", "Coal", "Hydroelectric energy"],
    answer: "Coal",
  },
  {
    id: 39,
    question: "What is the effect of doubling the speed of an object on its kinetic energy?",
    options: ["Kinetic energy is doubled", "Kinetic energy is halved", "Kinetic energy quadruples", "Kinetic energy stays the same"],
    answer: "Kinetic energy quadruples",
  },
  {
    id: 40,
    question: "What is the force responsible for holding atoms together in a molecule?",
    options: ["Gravitational force", "Electromagnetic force", "Weak nuclear force", "Strong nuclear force"],
    answer: "Electromagnetic force",
  },
  {
    id: 41,
    question: "What quatity which  requires magnitude and direction to be specified?",
    options: ["Displacement", "Distance", "Mass", "Temperature"],
    answer: "Displacement",
  },
  {
    id: 42,
    question: "In order to remove error of parallax when taking measurements with meter rule , the eye should be focused?",
    options: ["Slantingly towards the left on the markings", "Slantingly towards the right on the markings", "Vertically downwards on the markings", "vertically upwards on the markings"],
    answer: "Vertically downwards on the markings",
  },
  {
    id: 43,
    question: "The internationally agreed system of units(SI) for physical measurement are?",
    options: ["Ib,ft,sec", "g,m,sec", "kg,m,sec", "cm,g,sec"],
    answer: "kg,m,sec",
  },
  {
    "id": 44,
    "question": "Which of the following factors does not affect the period of a simple pendulum?",
    "options": ["Length of the string", "Acceleration due to gravity", "Mass of the bob", "Amplitude of oscillation"],
    "answer": "Mass of the bob"
  },
  {
    "id": 45,
    "question": "A force of 10N is applied to a body of mass 2kg. What is the acceleration of the body?",
    "options": ["5 m/s²", "20 m/s²", "10 m/s²", "2 m/s²"],
    "answer": "5 m/s²"
  },
  {
    "id": 46,
    "question": "What is the work done when a force of 20N moves an object through a distance of 5m in the direction of the force?",
    "options": ["100 J", "25 J", "4 J", "10 J"],
    "answer": "100 J"
  },
  {
    "id": 47,
    "question": "Which of the following substances is the best conductor of electricity?",
    "options": ["Glass", "Copper", "Rubber", "Wood"],
    "answer": "Copper"
  },
  {
    "id": 48,
    "question": "Which of the following is a characteristic of longitudinal waves?",
    "options": ["They require a medium to propagate", "They can travel in a vacuum", "They are transverse in nature", "They do not transfer energy"],
    "answer": "They require a medium to propagate"
  },
  {
    "id": 49,
    "question": "An object is placed 12 cm in front of a concave mirror with a focal length of 6 cm. What is the nature of the image formed?",
    "options": ["Real and inverted", "Virtual and upright", "Real and upright", "Virtual and inverted"],
    "answer": "Real and inverted"
  },
  {
    "id": 50,
    "question": "The velocity ratio of a machine is defined as?",
    "options": ["The ratio of the effort to the load", "The ratio of the load to the effort", "The ratio of distance moved by effort to distance moved by load", "The product of force and displacement"],
    "answer": "The ratio of distance moved by effort to distance moved by load"
  }
];


const quizContainer = document.getElementById("quizQuestions");
const resultsContainer = document.getElementById("results");
const answersPreviewContainer = document.getElementById("answersPreview");
const correctAnswersList = document.getElementById("correctAnswersList");
const scoreDisplay = document.getElementById("score");
const totalQuestionsDisplay = document.getElementById("totalQuestions");
const nextBtn = document.getElementById("nextPage");
const prevBtn = document.getElementById("prevPage");
const submitQuiz = document.getElementById("submitQuiz");


let userAnswersList = []

let userAnswers = {};
let currentPage = 1;
const questionsPerPage = 10;
let answerPerPage = 0
let shuffledQuestions = [...physicsBank]; // Keep shuffled questions consistent

// Shuffle function
function shuffleArray(array) {
  for (let i = array.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [array[i], array[j]] = [array[j], array[i]];
  }
}



function loadQuestions(page) {
  quizContainer.innerHTML = "";
  const startIndex = (page - 1) * questionsPerPage;
  const endIndex = startIndex + questionsPerPage;

  const questionsToShow = shuffledQuestions
    .slice()
    .sort((a, b) => a.id - b.id)
    .slice(startIndex, endIndex);

  questionsToShow.forEach((question) => {
    const questionElement = document.createElement("div");
    questionElement.classList.add("question");
    questionElement.innerHTML = `<h4>${question.id}. ${question.question}</h4>`;

    question.options.forEach((option, index) => {
      const optionContainer = document.createElement("div"); 
      optionContainer.classList.add("option"); 
    
      const optionLetters = ["A", "B", "C", "D"]; 
    
      const label = document.createElement("label");
      label.innerHTML = `${optionLetters[index]}. <input type="radio" name="question${question.id}" value="${option}" ${userAnswers[question.id] === option ? "checked" : ""}> ${option}`;
      
      label.addEventListener("change", (e) => {
        userAnswers[question.id] = e.target.value;
      });
    
      optionContainer.appendChild(label);
      questionElement.appendChild(optionContainer);
    });

    quizContainer.appendChild(questionElement);
  });
  prevBtn.style.display = page > 1 ? "inline-block" : "none"; 
  nextBtn.style.display = endIndex < shuffledQuestions.length ? "inline-block" : "none"; 
}



// Pagination handlers
// next button
nextBtn.addEventListener("click", () => {
  if (currentPage * questionsPerPage < shuffledQuestions.length) {
    currentPage++;
    loadQuestions(currentPage);
  }
});

// prev button
prevBtn.addEventListener("click", () => {
  if (currentPage > 1) {
    currentPage--;
    loadQuestions(currentPage);
  }
});

// Submit quiz and calculate score
submitQuiz.addEventListener("click", () => {
  let score = 0;
  correctAnswersList.innerHTML = "";

  shuffledQuestions.forEach((question) => {
    if (userAnswers[question.id] === question.answer) {
      score++;
    }

    const answerItem = document.createElement("li");
    answerItem.textContent = `${question.question} - Correct Answer: ${question.answer}`;
    correctAnswersList.appendChild(answerItem);
  });

  scoreDisplay.textContent = score;
  totalQuestionsDisplay.textContent = shuffledQuestions.length;
  resultsContainer.style.display = "block";
  quizContainer.style.display = "none";
  nextBtn.style.display = "none";
  prevBtn.style.display = "none";
  submitQuiz.style.display = "none";
  answersPreviewContainer.style.display = "none";
});



// function to preview answers
function handleViewAnswers() {
  correctAnswersList.innerHTML = "";
  shuffledQuestions.forEach((q, index) => {
    const li = document.createElement("li");
    li.textContent = `${index + 1}. ${q.question} - Correct Answer: ${q.answer}`;
    correctAnswersList.appendChild(li);
  });

  answersPreviewContainer.style.display = "block";
  resultsContainer.style.display = "none";
  quizContainer.style.display = "none"; 
  nextBtn.style.display = "none";
  prevBtn.style.display = "none";
  submitQuiz.style.display = "none";
}

document.getElementById("viewAnswers").addEventListener("click", handleViewAnswers);

// reload the quiz 
function backToQuiz(){
  location.reload();
}
document.getElementById('onload').addEventListener('click' ,backToQuiz )

// Initialize quiz
shuffleArray(shuffledQuestions);
loadQuestions(currentPage);

// function for selecting each subject
document.getElementById("subjectSelect").addEventListener("change", function() {
  const selectedValue = this.value;
  if (selectedValue) {
      window.location.href = selectedValue;
  }
});

