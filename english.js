const englishBank = [
    {
      id: 1,
      question: "choose the option that has the same vowel sound as the one represented by the letters underlined 'Air'",
      options: ["heir", "her", "hear", "fire"],
      answer: "heir",
    },
    {
      id: 2,
      question: "choose the option that has the same consonant sound as the one represented by the letters underlined 'Caliph'",
      options: ["presently", "perhaps", "powerful", "opponent"],
      answer: "powerful",
    },
    {
      id: 3,
      question: "Select the Word the that has the same pattern of stress as the given word 'ENORMOUS'",
      options: ["interest", "solution", "stupidly", "character"],
      answer: "solution",
    },
    {
      id: 4,
      question: "Identify the word that has the stress on the second syllable?",
      options: ["reproduce", "always", "result", "understand"],
      answer: "boy",
    },
    {
      id: 5,
      question: "Identify the word that has a different stress pattern from the others?",
      options: ["integral", "intimate", "discourse", "accelerate"],
      answer: "oxen",
    },
    {
      id: 6,
      question: "Without our relentless campaigns we might_______sure of victory in the race for the Nathional Assembly?",
      options: ["never have been", "have never be", "never had been", "be never"],
      answer: "never have been",
    },
    {
      id: 7,
      question: "I like the character that played the role of a political__________at the last convention of our party?",
      options: ["thorncoat", "torncoat", "turncoat", "turnedcoat"],
      answer: "turncoat",
    },
    {
      id: 8,
      question: "The team manager told us that the race could only be won by the ________?",
      options: ["flat-footed", "bare-footed", "swift-footed", "fore-footed"],
      answer: "swift-footed",
    },
    {
      id: 9,
      question: "The new school is not provided with __________for science practicals?",
      options: ["enough equipment", "equipments", "an equipment", "enough equipments"],
      answer: "enough equipment",
    },
    {
      id: 10,
      question: "You can travel on you own____?",
      options: ["isn't", "wouldn't you", "can't you", "shouldn't you"],
      answer: "can't you",
    },
    {
      id: 11,
      question: "Our culture does not allow one to _____ when an elderly person is speaking",
      options: ["cut of", "cut off", "cut in", "cut on"],
      answer: "cut in",
    },
    {
      id: 12,
      question: "If he were here , it could be more fun?",
      options: ["He didnot show up and so the occasion lacked much fun", "He was being expected to supply more fun", "There was not fun beacuse he was not present", "He was expected but did not show up to liven up the occasion"],
      answer: "He didnot show up and so the occasion lacked much fun",
    },
    {
      id: 13,
      question: "Though he is our elected representative he often takes a rather jaundiced view of our problem?",
      options: ["He takes a rather hazy view of our problems", "He takes an unfavourable position corcerning our problems", "He takes a rather forceful view of our problems", "He takes a sickly view of our problems"],
      answer: "He takes an unfavourable position corcerning our problems",
    },
    {
      id: 14,
      question: "The events of last friday show that there is no love lost between the principal snd the vice principal",
      options: ["They like eachother", "They work independently", "They cant part company", "They dislike eachother"],
      answer: "They dislike eachother",
    },
    {
      id: 15,
      question: "Choose the word nearest in meaning :The Governor told the chief that he was only on a 'routine tour'",
      options: ["Normal and regular visit", "unplanned encounter", "surprise and impromtu check", "working visit and homage"],
      answer: "Normal and regular visit",
    },
    {
      id: 16,
      question: "Choose the word nearest in meaning :The boy was told that he would need SEVERAL more pints of blood if he was to survive?",
      options: ["many", "much", "some", "plenty"],
      answer: "many",
    },
    {
      id: 17,
      question: "Choose the word nearest in meaning :The principal told the teacher to stop browbeating the children?",
      options: ["pampering", "bullying", "deceiving", "caning"],
      answer: "bullying",
    },
    {
      id: 18,
      question: "Choose the word nearest in meaning : The eassy topic is NEBULOUS",
      options: ["vague", "incorrect", "distinct", "clear"],
      answer: "vague",
    },
    {
      id: 19,
      question: "Choose the word nearest in meaning : Mr.Okon has been described as an eagle-eyed editor",
      options: ["a short-sighted", "a clear-sighted", "a long-sighted", "a quick-sighted"],
      answer: "a clear-sighted",
    },
    {
      id: 20,
      question: "Choose the word nearest in meaning :I have always believed thst my mother is a very 'IMPASSIONED' woman?",
      options: ["emotion", "impartial", "impassive", "emotional"],
      answer: "emotional",
    },
    {
      id: 21,
      question: "Choose the word nearest in meaning:The party gathering was thrown into a state of 'euphoria' after the electon result was announced",
      options: ["pleasure", "sadness", "excitement", "confusion"],
      answer: "excitement",
    },
    {
      id: 22,
      question: "Choose the word nearest in meaning:The family discussed the crime committed and resolved to 'mail the lie to the counter' ?",
      options: ["expose it publicly", "bury it in a coffin", "defer action on it", "seek more advice"],
      answer: "expose it publicly",
    },
    {
      id: 23,
      question: "Choose the word nearest in meaning:My father was at the 'apogee' of his career when he was retired?",
      options: ["terminal point", "highest point", "Least productive stage", "reductant stage"],
      answer: "highest point",
    },
    {
      id: 24,
      question: "Choose the word nearest in meaning:The new ruler is 'big-hearted' in his dealing with people?",
      options: ["generous", "cruel", "soft", "proud"],
      answer: "generous",
    },
    {
      id: 25,
      question: "Choose the word opposite in meaning:The teacher announced taht the class would be making a 'fleeting' visit to the zoo",
      options: ["routine", "brief", "long", "guided"],
      answer: "long",
    },
    {
      id: 26,
      question: "Choose the word opposite in meaning:The project is designed to 'alleviate' poverty in the country?",
      options: ["tackle", "exacerbate", "bat", "hat"],
      answer: "exacerbate",
    },
    {
      id: 27,
      question: "Choose the word opposite in meaning:Civil engineering is 'predominantly' a male profession?",
      options: ["absolutely", "essentially", "generally", "seldom"],
      answer: "seldom",
    },
    {
      id: 28,
      question: "Choose the word opposite in meaning:The officer said that he knew nothing to the 'detriment' of the applicant?",
      options: ["damage", "disfavour", "advantage", "background"],
      answer: "advantage",
    },
    {
      id: 29,
      question: "What is the plural of 'criterion'?",
      options: ["criteria", "criterions", "criterion", "criterias"],
      answer: "criteria",
    },
    {
      "id": 30,
      "question": "The chairman advised the committee members to put their differences _______ and work as a team.",
      "options": ["on", "aside", "into", "across"],
      "answer": "aside"
    },
    {
      "id": 31,
      "question": "The governor’s speech was **cogent**.",
      "options": ["Confusing", "Logical", "Unclear", "Weak"],
      "answer": "Logical"
    },
    {
      "id": 32,
      "question": "The student was given the **benefit of the doubt**.",
      "options": ["He was punished unfairly", "He was assumed to be innocent", "He was found guilty", "He was doubted by everyone"],
      "answer": "He was assumed to be innocent"
    },
    {
      "id": 33,
      "question": "He promised to **keep an eye on** his little brother.",
      "options": ["Watch him closely", "Ignore him", "Punish him", "Keep his photo"],
      "answer": "Watch him closely"
    },
    {
      "id": 34,
      "question": "Choose the word opposite in meaning to **VINDICATE**:",
      "options": ["Justify", "Blame", "Approve", "Acknowledge"],
      "answer": "Blame"
    },
    {
      "id": 35,
      "question": "Choose the word opposite in meaning to **INSIPID**:",
      "options": ["Tasteless", "Boring", "Exciting", "Dull"],
      "answer": "Exciting"
    },
    {
      "id": 36,
      "question": "Choose the word **nearest in meaning** to **LAMENT**:",
      "options": ["Celebrate", "Complain", "Mourn", "Rejoice"],
      "answer": "Mourn"
    },
    {
      "id": 37,
      "question": "Choose the word **nearest in meaning** to **PERPLEXED**:",
      "options": ["Confused", "Intelligent", "Relaxed", "Happy"],
      "answer": "Confused"
    },
    {
      "id": 38,
      "question": "Scarcely had the teacher entered the class _____ the students started clapping.",
      "options": ["when", "then", "than", "before"],
      "answer": "when"
    },
    {
      "id": 39,
      "question": "Not only _____ the exam but he also won a scholarship.",
      "options": ["he passed", "he had passed", "did he pass", "does he pass"],
      "answer": "did he pass"
    },
    {
      "id": 40,
      "question": "Despite his busy schedule, Dr. Ade always finds time to mentor young doctors. His commitment to the profession is unwavering. What can be inferred from this passage?",
      "options": ["Dr. Ade is irresponsible", "Dr. Ade dislikes young doctors", "Dr. Ade is dedicated", "Dr. Ade is lazy"],
      "answer": "Dr. Ade is dedicated"
    },
    {
      "id": 41,
      "question": "Identify the word that has the **primary stress** on the **first syllable**:",
      "options": ["develop", "embrace", "difference", "repair"],
      "answer": "difference"
    },
    {
      "id": 42,
      "question": "Choose the word that has the **same vowel sound** as the word **'seat'**:",
      "options": ["Sit", "Beat", "Said", "Set"],
      "answer": "Beat"
    },
    {
      "id": 43,
      "question": "Which of these words has the **/ʃ/** sound?",
      "options": ["Treasure", "Teach", "School", "Ship"],
      "answer": "Ship"
    },
    {
      "id": 44,
      "question": "Which of the following correctly completes the sentence? 'Neither James nor his friends _____ present at the meeting.'",
      "options": ["was", "were", "is", "has been"],
      "answer": "were"
    },
    {
      "id": 45,
      "question": "Choose the correct option to complete the sentence: 'The students insisted _____ the teacher explain the topic again.'",
      "options": ["on that", "that", "for that", "about that"],
      "answer": "that"
    },
    {
      "id": 46,
      "question": "The manager insisted that the matter _____ immediately.",
      "options": ["be attended to", "attended to", "attend to", "is attending"],
      "answer": "be attended to"
    },
    {
      "id": 47,
      "question": "The police promised to look _____ the matter thoroughly.",
      "options": ["up", "down", "into", "on"],
      "answer": "into"
    },
    {
      "id": 48,
      "question": "The new policy will take effect _____ next month.",
      "options": ["since", "from", "on", "at"],
      "answer": "from"
    },
    {
      "id": 49,
      "question": "The senator was asked to shed more light _____ his statement.",
      "options": ["for", "on", "at", "by"],
      "answer": "on"
    },
    {
      "id": 50,
      "question": "The court ruled that the evidence was not _____.",
      "options": ["admissible", "permissible", "credible", "reliable"],
      "answer": "admissible"
    },
    {
      "id": 51,
      "question": "The soldiers were praised for their _____ in battle.",
      "options": ["cowardice", "bravery", "weakness", "hesitation"],
      "answer": "bravery"
    },
    {
      "id": 52,
      "question": "The company’s new policy on workplace safety has led to a significant reduction in accidents. What is the main idea of this passage?",
      "options": ["Accidents have increased", "The new policy is ineffective", "The policy has improved safety", "The company has no safety measures"],
      "answer": "The policy has improved safety"
    },
    {
      "id": 53,
      "question": "Choose the word opposite in meaning to **'MOROSE'**:",
      "options": ["Cheerful", "Sullen", "Gloomy", "Withdrawn"],
      "answer": "Cheerful"
  },
  {
      "id": 54,
      "question": "Choose the word that has the **same consonant sound** as the underlined letters in **'PHANTOM'**:",
      "options": ["Physics", "Hymn", "Phone", "Pneumonia"],
      "answer": "Phone"
  },
  {
    "id": 55,
    "question": "Choose the sentence that best answers the question based on the word in **capital letters**: 'Did SHE prefer tea to coffee?'",
    "options": [
        "No, HE preferred tea to coffee.",
        "No, she preferred COFFEE to tea.",
        "No, she preferred tea to COFFEE.",
        "No, she prefers tea over coffee."
    ],
    "answer": "No, HE preferred tea to coffee."
  },
  {
      "id": 56,
      "question": "Complete the sentence: 'The boy, together with his parents, _____ at the event yesterday.'",
      "options": ["were", "was", "have been", "are"],
      "answer": "was"
  },
  {
    "id": 57,
    "question": "Which syllable is stressed in the word **'accommodation'**?",
    "options": [
        "AC-com-mo-da-tion",
        "ac-COM-mo-da-tion",
        "ac-com-MO-da-tion",
        "ac-com-mo-DA-tion"
    ],
    "answer": "ac-com-MO-da-tion"
  },
  {
      "id": 58,
      "question": "Choose the appropriate option to complete the sentence: 'The principal told the students that no one was above the school's _____ regulations.'",
      "options": ["laid-down", "lay-down", "laid-out", "laid-off"],
      "answer": "laid-down"
  },
  {
      "id": 59,
      "question": "Choose the correct expression: 'If I _____ you, I would apologize immediately.'",
      "options": ["was", "am", "were", "had been"],
      "answer": "were"
  },
  {
      "id": 60,
      "question": "Choose the correct option to complete the sentence: 'She was so tired that she could hardly _____ her eyes open.'",
      "options": ["keep", "kept", "keeps", "keeping"],
      "answer": "keep"
  }
];
  


const quizContainer = document.getElementById("quizQuestions");
const resultsContainer = document.getElementById("results");
const answersPreviewContainer = document.getElementById("answersPreview");
const correctAnswersList = document.getElementById("correctAnswersList");
const scoreDisplay = document.getElementById("score");
const totalQuestionsDisplay = document.getElementById("totalQuestions");
const nextBtn = document.getElementById("nextPage");
const prevBtn = document.getElementById("prevPage");
const submitQuiz = document.getElementById("submitQuiz");


let userAnswersList = []

let userAnswers = {};
let currentPage = 1;
const questionsPerPage = 10;
let answerPerPage = 0
let shuffledQuestions = [...englishBank]; // Keep shuffled questions consistent

// Shuffle function
function shuffleArray(array) {
  for (let i = array.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [array[i], array[j]] = [array[j], array[i]];
  }
}



function loadQuestions(page) {
  quizContainer.innerHTML = "";
  const startIndex = (page - 1) * questionsPerPage;
  const endIndex = startIndex + questionsPerPage;

  const questionsToShow = shuffledQuestions
    .slice()
    .sort((a, b) => a.id - b.id)
    .slice(startIndex, endIndex);

  questionsToShow.forEach((question) => {
    const questionElement = document.createElement("div");
    questionElement.classList.add("question");
    questionElement.innerHTML = `<h4>${question.id}. ${question.question}</h4>`;

    question.options.forEach((option, index) => {
      const optionContainer = document.createElement("div"); 
      optionContainer.classList.add("option"); 
    
      const optionLetters = ["A", "B", "C", "D"]; 
    
      const label = document.createElement("label");
      label.innerHTML = `${optionLetters[index]}. <input type="radio" name="question${question.id}" value="${option}" ${userAnswers[question.id] === option ? "checked" : ""}> ${option}`;
      
      label.addEventListener("change", (e) => {
        userAnswers[question.id] = e.target.value;
      });
    
      optionContainer.appendChild(label);
      questionElement.appendChild(optionContainer);
    });

    quizContainer.appendChild(questionElement);
  });
  prevBtn.style.display = page > 1 ? "inline-block" : "none"; 
  nextBtn.style.display = endIndex < shuffledQuestions.length ? "inline-block" : "none"; 
}



// Pagination handlers
// next button
nextBtn.addEventListener("click", () => {
  if (currentPage * questionsPerPage < shuffledQuestions.length) {
    currentPage++;
    loadQuestions(currentPage);
  }
});

// prev button
prevBtn.addEventListener("click", () => {
  if (currentPage > 1) {
    currentPage--;
    loadQuestions(currentPage);
  }
});

// Submit quiz and calculate score
submitQuiz.addEventListener("click", () => {
  let score = 0;
  correctAnswersList.innerHTML = "";

  shuffledQuestions.forEach((question) => {
    if (userAnswers[question.id] === question.answer) {
      score++;
    }

    const answerItem = document.createElement("li");
    answerItem.textContent = `${question.question} - Correct Answer: ${question.answer}`;
    correctAnswersList.appendChild(answerItem);
  });

  scoreDisplay.textContent = score;
  totalQuestionsDisplay.textContent = shuffledQuestions.length;
  resultsContainer.style.display = "block";
  quizContainer.style.display = "none";
  nextBtn.style.display = "none";
  prevBtn.style.display = "none";
  submitQuiz.style.display = "none";
  answersPreviewContainer.style.display = "none";
});



// function to preview answers
function handleViewAnswers() {
  correctAnswersList.innerHTML = "";
  shuffledQuestions.forEach((q, index) => {
    const li = document.createElement("li");
    li.textContent = `${index + 1}. ${q.question} - Correct Answer: ${q.answer}`;
    correctAnswersList.appendChild(li);
  });

  answersPreviewContainer.style.display = "block";
  resultsContainer.style.display = "none";
  quizContainer.style.display = "none"; 
  nextBtn.style.display = "none";
  prevBtn.style.display = "none";
  submitQuiz.style.display = "none";
}

document.getElementById("viewAnswers").addEventListener("click", handleViewAnswers);

// reload the quiz 
function backToQuiz(){
  location.reload();
}
document.getElementById('onload').addEventListener('click' ,backToQuiz )

// Initialize quiz
shuffleArray(shuffledQuestions);
loadQuestions(currentPage);

// function for selecting each subject
document.getElementById("subjectSelect").addEventListener("change", function() {
  const selectedValue = this.value;
  if (selectedValue) {
      window.location.href = selectedValue;
  }
});

