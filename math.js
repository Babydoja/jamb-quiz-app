const mathematicsBank = [
  {
    "id": 1,
    "question": "Simplify: 12 ÷ (4 - 2) + 3 × 2",
    "options": ["9", "10", "12", "8"],
    "answer": "9"
  },
  {
    "id": 2,
    "question": "Solve for x: 3x - 7 = 11",
    "options": ["x = 5", "x = 6", "x = 7", "x = 8"],
    "answer": "x = 6"
  },
  {
    "id": 3,
    "question": "Find the value of 5!",
    "options": ["60", "120", "24", "720"],
    "answer": "120"
  },
  {
    "id": 4,
    "question": "What is the logarithm of 100 to base 10?",
    "options": ["2", "1", "10", "100"],
    "answer": "2"
  },
  {
    "id": 5,
    "question": "Solve for x: 2(x + 3) = 14",
    "options": ["x = 3", "x = 4", "x = 5", "x = 6"],
    "answer": "x = 4"
  },
  {
    "id": 6,
    "question": "What is the value of sin 30°?",
    "options": ["1", "0", "1/2", "√3/2"],
    "answer": "1/2"
  },
  {
    "id": 7,
    "question": "If a triangle has angles 60° and 45°, what is the third angle?",
    "options": ["75°", "90°", "55°", "65°"],
    "answer": "75°"
  },
  {
    "id": 8,
    "question": "If a = 3 and b = 4, find the value of a² + b²",
    "options": ["9", "16", "25", "20"],
    "answer": "25"
  },
  {
    "id": 9,
    "question": "What is the value of log2(16)?",
    "options": ["2", "3", "4", "5"],
    "answer": "4"
  },
  {
    "id": 10,
    "question": "Find the sum of the interior angles of a hexagon.",
    "options": ["360°", "540°", "720°", "900°"],
    "answer": "720°"
  },
  {
    "id": 11,
    "question": "Simplify: 8 ÷ 2(2 + 2)",
    "options": ["1", "16", "8", "4"],
    "answer": "16"
  },
  {
    "id": 12,
    "question": "What is the median of the numbers 3, 7, 9, 15, 21?",
    "options": ["7", "9", "15", "12"],
    "answer": "9"
  },
  {
    "id": 13,
    "question": "Solve for x: 4x + 5 = 3x + 9",
    "options": ["x = 2", "x = 4", "x = 6", "x = 8"],
    "answer": "x = 4"
  },
  {
    "id": 14,
    "question": "Find the area of a triangle with base 8cm and height 10cm.",
    "options": ["40 cm²", "80 cm²", "20 cm²", "50 cm²"],
    "answer": "40 cm²"
  },
  {
    "id": 15,
    "question": "The probability of getting a head when a fair coin is tossed is?",
    "options": ["1", "1/2", "1/3", "1/4"],
    "answer": "1/2"
  },
  {
    "id": 16,
    "question": "If the perimeter of a square is 20cm, find the length of one side.",
    "options": ["4cm", "5cm", "6cm", "7cm"],
    "answer": "5cm"
  },
  {
    "id": 17,
    "question": "What is the gradient of the line passing through (2,3) and (4,7)?",
    "options": ["2", "4", "3", "1"],
    "answer": "2"
  },
  {
    "id": 18,
    "question": "What is the mode of the numbers 2, 3, 5, 5, 6, 7, 5?",
    "options": ["5", "3", "6", "7"],
    "answer": "5"
  },
  {
    "id": 19,
    "question": "Find the LCM of 6 and 8.",
    "options": ["12", "24", "36", "48"],
    "answer": "24"
  },
  {
    "id": 20,
    "question": "Find the HCF of 18 and 24.",
    "options": ["2", "4", "6", "8"],
    "answer": "6"
  },
  {
    "id": 21,
    "question": "If the sum of two numbers is 18 and their difference is 6, find the numbers.",
    "options": ["6 and 12", "8 and 10", "9 and 11", "7 and 13"],
    "answer": "6 and 12"
  },
  {
    "id": 22,
    "question": "Find the value of 4³.",
    "options": ["16", "32", "64", "81"],
    "answer": "64"
  },
  {
    "id": 23,
    "question": "A rectangle has a length of 10cm and width of 5cm. Find its area.",
    "options": ["15 cm²", "25 cm²", "50 cm²", "100 cm²"],
    "answer": "50 cm²"
  },
  {
    "id": 24,
    "question": "What is the sum of the first 5 natural numbers?",
    "options": ["10", "15", "20", "25"],
    "answer": "15"
  },
  {
    "id": 25,
    "question": "Find the next term in the sequence: 2, 4, 8, 16, ...",
    "options": ["20", "24", "32", "64"],
    "answer": "32"
  },
  {
    "id": 26,
    "question": "Solve for x: 5x - 3 = 2x + 9",
    "options": ["x = 3", "x = 4", "x = 5", "x = 6"],
    "answer": "x = 4"
  },
  {
    "id": 27,
    "question": "Find the value of 2^5.",
    "options": ["16", "32", "64", "128"],
    "answer": "32"
  },
  {
    "id": 28,
    "question": "Solve for x: 2(x - 1) = 10",
    "options": ["x = 4", "x = 5", "x = 6", "x = 7"],
    "answer": "x = 6"
  },
  {
    "id": 29,
    "question": "What is the sum of angles in a quadrilateral?",
    "options": ["180°", "270°", "360°", "450°"],
    "answer": "360°"
  },
  {
    "id": 30,
    "question": "Find the value of log3(81).",
    "options": ["2", "3", "4", "5"],
    "answer": "4"
  },
  {
    "id": 31,
    "question": "A man deposits ₦5000 at 10% simple interest per annum. Find the interest after 3 years.",
    "options": ["₦1500", "₦500", "₦2000", "₦3000"],
    "answer": "₦1500"
  },
  {
    "id": 32,
    "question": "If the ratio of boys to girls in a school is 5:3 and there are 40 girls, find the number of boys.",
    "options": ["60", "50", "70", "80"],
    "answer": "60"
  },
  {
    "id": 33,
    "question": "A man drives at 60 km/h for 3 hours. Find the total distance covered.",
    "options": ["120 km", "150 km", "180 km", "200 km"],
    "answer": "180 km"
  },
  {
    "id": 34,
    "question": "Find the volume of a cube with side length 4 cm.",
    "options": ["64 cm³", "32 cm³", "16 cm³", "48 cm³"],
    "answer": "64 cm³"
  },
  {
    "id": 35,
    "question": "Convert 0.75 to a fraction in its simplest form.",
    "options": ["1/2", "3/4", "2/3", "4/5"],
    "answer": "3/4"
  },
  {
    "id": 36,
    "question": "If a car depreciates by 10% annually and was initially bought for ₦500,000, what is its value after 2 years?",
    "options": ["₦405,000", "₦450,000", "₦400,000", "₦410,000"],
    "answer": "₦405,000"
  },
  {
    "id": 37,
    "question": "If the area of a circle is 154 cm², find its radius. (Use π = 3.14)",
    "options": ["5 cm", "6 cm", "7 cm", "8 cm"],
    "answer": "7 cm"
  },
  {
    "id": 38,
    "question": "A train moves at a speed of 90 km/h. How long will it take to travel 270 km?",
    "options": ["2 hours", "3 hours", "4 hours", "5 hours"],
    "answer": "3 hours"
  },
  {
    "id": 39,
    "question": "Solve for x: x² - 5x + 6 = 0",
    "options": ["x = 2, 3", "x = 1, 6", "x = 4, 2", "x = 5, 1"],
    "answer": "x = 2, 3"
  },
  {
    "id": 40,
    "question": "A bag contains 5 red balls, 3 blue balls, and 2 green balls. Find the probability of picking a red ball.",
    "options": ["1/2", "3/10", "5/10", "5/9"],
    "answer": "1/2"
  },
  {
    "id": 41,
    "question": "Convert 25% to a decimal.",
    "options": ["0.2", "0.25", "0.3", "0.4"],
    "answer": "0.25"
  },
  {
    "id": 42,
    "question": "A ladder leans against a wall at an angle of 60° to the ground. If the ladder is 10m long, how high does it reach up the wall?",
    "options": ["5m", "6m", "8m", "10m"],
    "answer": "8m"
  },
  {
    "id": 43,
    "question": "Find the perimeter of a rectangle with length 12 cm and width 5 cm.",
    "options": ["24 cm", "30 cm", "34 cm", "40 cm"],
    "answer": "34 cm"
  },
  {
    "id": 44,
    "question": "Solve for x: 3(x - 2) = 2(x + 1)",
    "options": ["x = 5", "x = 4", "x = 3", "x = 2"],
    "answer": "x = 5"
  },
  {
    "id": 45,
    "question": "Find the missing term in the sequence: 2, 6, 12, 20, ...",
    "options": ["28", "30", "32", "34"],
    "answer": "30"
  },
  {
    "id": 46,
    "question": "Convert 3/8 to a percentage.",
    "options": ["32.5%", "35%", "37.5%", "40%"],
    "answer": "37.5%"
  },
  {
    "id": 47,
    "question": "Find the mean of the numbers: 4, 6, 8, 10, 12.",
    "options": ["6", "7", "8", "9"],
    "answer": "8"
  },
  {
    "id": 48,
    "question": "A box contains 20 pens, out of which 5 are faulty. What is the probability of picking a good pen?",
    "options": ["1/4", "1/5", "3/4", "4/5"],
    "answer": "3/4"
  },
  {
    "id": 49,
    "question": "Find the circumference of a circle with radius 7 cm (Use π = 22/7).",
    "options": ["44 cm", "48 cm", "52 cm", "56 cm"],
    "answer": "44 cm"
  },
  {
    "id": 50,
    "question": "Solve for x: 2x² - 8 = 0",
    "options": ["x = 2, -2", "x = 4, -4", "x = 3, -3", "x = 5, -5"],
    "answer": "x = 2, -2"
  }      
    // Add more questions here...
];


const quizContainer = document.getElementById("quizQuestions");
const resultsContainer = document.getElementById("results");
const answersPreviewContainer = document.getElementById("answersPreview");
const correctAnswersList = document.getElementById("correctAnswersList");
const scoreDisplay = document.getElementById("score");
const totalQuestionsDisplay = document.getElementById("totalQuestions");
const nextBtn = document.getElementById("nextPage");
const prevBtn = document.getElementById("prevPage");
const submitQuiz = document.getElementById('submitQuiz')
let currentPage = 1;
const questionsPerPage = 8;


function shuffleArray(array) {
  for (let i = array.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [array[i], array[j]] = [array[j], array[i]]; 
  }
}

function loadQuestions(page) {
    quizContainer.innerHTML = ""; 
    shuffleArray(mathematicsBank)

    let startIndex = (page - 1) * questionsPerPage;
    let endIndex = startIndex + questionsPerPage;
    let paginatedQuestions = mathematicsBank.slice(startIndex, endIndex);

    paginatedQuestions.forEach((q, index) => {
        const questionDiv = document.createElement("div");
        questionDiv.classList.add("question");

        const questionText = document.createElement("h3");
        questionText.textContent = `${startIndex + index + 1}. ${q.question}`;
        questionDiv.appendChild(questionText);

        q.options.forEach((option, optIndex) => {
            const optionContainer = document.createElement("div");
            optionContainer.classList.add("option");

            const label = document.createElement("label");
            label.textContent = `${String.fromCharCode(65 + optIndex)} `; // A, B, C, D
            label.style.fontWeight = "bold";

            const radioInput = document.createElement("input");
            radioInput.type = "radio";
            radioInput.name = `question${startIndex + index}`;
            radioInput.value = option;
            radioInput.id = `q${startIndex + index}opt${optIndex}`;

            const optionText = document.createElement("span");
            optionText.textContent = ` ${option}`;

            optionContainer.appendChild(label);
            optionContainer.appendChild(radioInput);
            optionContainer.appendChild(optionText);
            questionDiv.appendChild(optionContainer);
        });

        quizContainer.appendChild(questionDiv);
    });

    prevBtn.style.display = page === 1 ? "none" : "inline-block";
    nextBtn.style.display = endIndex >= mathematicsBank.length ? "none" : "inline-block";
}

function handleSubmit() {
    let score = 0;
    mathematicsBank.forEach((q, index) => {
        const selectedOption = document.querySelector(`input[name="question${index}"]:checked`);
        if (selectedOption && selectedOption.value === q.answer) {
            score++;
        }
    });

    scoreDisplay.textContent = score;
    totalQuestionsDisplay.textContent = mathematicsBank.length;
    resultsContainer.style.display = "block";
}

nextBtn.addEventListener("click", () => {
    currentPage++;
    loadQuestions(currentPage);
});

prevBtn.addEventListener("click", () => {
    currentPage--;
    loadQuestions(currentPage);
});


function handleSubmit() {
    let score = 0;
    mathematicsBank.forEach((q, index) => {
        const selectedOption = document.querySelector(
            `input[name="question${index}"]:checked`
        );
        if (selectedOption && selectedOption.value === q.answer) {
            score++;
        }
    });

    scoreDisplay.textContent = score;
    totalQuestionsDisplay.textContent = mathematicsBank.length;
    resultsContainer.style.display = "block";
    quizContainer.style.display = "none";
    nextBtn.style.display = 'none'
    prevBtn.style.display = 'none'
    submitQuiz.style.display = 'none'
    answersPreviewContainer.style.display = "none";

}

function handleViewAnswers() {
    correctAnswersList.innerHTML = "";
    mathematicsBank.forEach((q, index) => {
        const li = document.createElement("li");
        li.textContent = `${index + 1}. ${q.question} - Correct Answer: ${q.answer}`;
        correctAnswersList.appendChild(li);
    });
    answersPreviewContainer.style.display = "block";
    resultsContainer.style.display = "none";
}

document.getElementById("submitQuiz").addEventListener("click", handleSubmit);
document.getElementById("viewAnswers").addEventListener("click", handleViewAnswers);


function backToQuiz(){
    location.reload();
}
document.getElementById('onload').addEventListener('click' ,backToQuiz )
loadQuestions(currentPage);





document.addEventListener("DOMContentLoaded", function () {
  const toggleButton = document.getElementById("toggleCalc");
  const calculator = document.getElementById("calculator");

  if (toggleButton && calculator) {
      toggleButton.addEventListener("click", function () {
          calculator.style.display = (calculator.style.display === "none" || calculator.style.display === "") ? "block" : "none";
      });
  } else {
      console.error("Calculator or toggle button not found in the DOM.");
  }
});


function appendToDisplay(value) {
  document.getElementById("calc-display").value += value;
}

function clearDisplay() {
  document.getElementById("calc-display").value = "";
}
function deleteDisplay() {
  let display = document.getElementById("calc-display");
  display.value = display.value.slice(0, -1);
}


function calculateResult() {
  try {
      document.getElementById("calc-display").value = eval(document.getElementById("calc-display").value);
  } catch {
      document.getElementById("calc-display").value = "Error";
  }
}

console.log(document.getElementById("toggleCalc"));  
console.log(document.getElementById("calculator"));